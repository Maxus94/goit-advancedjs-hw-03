{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["export const API_URL = 'https://api.thecatapi.com/v1/';\nexport const API_BREEDS = 'breeds';\nexport const API_FUL_INFO = 'images';\nexport function fetchBreeds() {\n  return fetch(`${API_URL}${API_BREEDS}`).then(response => {\n    if (!response.ok) {\n      throw new Error('Error in breeds search');\n    }\n    const responseJSON = response.json();\n    return responseJSON;\n  });\n}\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `${API_URL}${API_FUL_INFO}/search?breed_ids=${breedId}&api_key=live_2Q9JZjMJI5bZojchvDz6dEbNb9glMqm8aJQNzpxhIaZPkxslhOWPtQNSOk8vrbah`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error('Error in breed data');\n    }\n    return response.json();\n  });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n//import SlimSelect from 'slim-select';\n//import '../node_modules/slim-select/dist/slimselect.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst breedsListSelect = document.querySelector('.breed-select');\nconst loadStatus = document.querySelector('.loader');\nconst errorStatus = document.querySelector('.error');\nconst descriptionDiv = document.querySelector('.cat-info');\n\nbreedsListSelect.insertAdjacentHTML(\n  'afterend',\n  '<div class=\"loader-animation\"></div>'\n);\n\nconst spiner = document.querySelector('.loader-animation');\n\nconst arr = fetchBreeds()\n  .then(data => {\n    spiner.style.display = 'none';\n    breedsListSelect.innerHTML = createMarkup(data);\n    breedsListSelect.classList.remove('hidden');\n  })\n  .catch(err => {\n    spiner.style.display = 'none';\n    iziToast.show({\n      title: 'Error',\n      message: `Oops! Something went wrong! Try reloading the page!`,\n      close: false,\n      backgroundColor: 'red',\n      messageColor: 'white',\n      messageSize: 20,\n      timeout: 0,\n      position: 'topCenter', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n    });\n  });\n\nbreedsListSelect.addEventListener('input', selectBreedHandler);\nfunction selectBreedHandler(evt) {\n  iziToast.destroy();\n  descriptionDiv.innerHTML = '';\n  errorStatus.setAttribute('hidden', true);\n  breedsListSelect.setAttribute('hidden', true);\n  loadStatus.removeAttribute('hidden');\n  spiner.style.display = 'block';\n  const breedID = evt.currentTarget.value;\n  fetchCatByBreed(breedID)\n    .then(data => {\n      breedsListSelect.removeAttribute('hidden');\n      loadStatus.setAttribute('hidden', true);\n      spiner.style.display = 'none';\n      descriptionDiv.style.display = 'flex';\n      descriptionDiv.style.gap = '20px';\n      descriptionDiv.style.padding = '20px';\n      descriptionDiv.innerHTML = `<img width=\"300\" src=\"${data[0].url}\" alt=\"${data[0].breeds[0].name}\">\n    <div><p>${data[0].breeds[0].name}</p>\n    <p>${data[0].breeds[0].description}</p></div>`;\n    })\n    .catch(err => {\n      iziToast.show({\n        title: 'Error',\n        message: `Oops! Something went wrong! Try reloading the page!`,\n        close: false,\n        backgroundColor: 'red',\n        messageColor: 'white',\n        messageSize: 20,\n        timeout: 0,\n        position: 'topCenter', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n      });\n    });\n}\nfunction createMarkup(arr) {\n  return arr.map(({ id, name }) => `<option value = ${id}>${name}</option>`);\n}\n"],"names":["API_URL","API_BREEDS","API_FUL_INFO","fetchBreeds","response","fetchCatByBreed","breedId","breedsListSelect","loadStatus","errorStatus","descriptionDiv","spiner","data","createMarkup","err","iziToast","selectBreedHandler","evt","breedID","arr","id","name"],"mappings":"svBAAO,MAAMA,EAAU,gCACVC,EAAa,SACbC,EAAe,SACrB,SAASC,GAAc,CAC5B,OAAO,MAAM,GAAGH,IAAUC,GAAY,EAAE,KAAKG,GAAY,CACvD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAG1C,OADqBA,EAAS,MAElC,CAAG,CACH,CACO,SAASC,EAAgBC,EAAS,CACvC,OAAO,MACL,GAAGN,IAAUE,sBAAiCI,iFAClD,EAAI,KAAKF,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,qBAAqB,EAEvC,OAAOA,EAAS,MACpB,CAAG,CACH,CCfA,MAAMG,EAAmB,SAAS,cAAc,eAAe,EACzDC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAc,SAAS,cAAc,QAAQ,EAC7CC,EAAiB,SAAS,cAAc,WAAW,EAEzDH,EAAiB,mBACf,WACA,sCACF,EAEA,MAAMI,EAAS,SAAS,cAAc,mBAAmB,EAE7CR,EAAa,EACtB,KAAKS,GAAQ,CACZD,EAAO,MAAM,QAAU,OACvBJ,EAAiB,UAAYM,EAAaD,CAAI,EAC9CL,EAAiB,UAAU,OAAO,QAAQ,CAC9C,CAAG,EACA,MAAMO,GAAO,CACZH,EAAO,MAAM,QAAU,OACvBI,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,sDACT,MAAO,GACP,gBAAiB,MACjB,aAAc,QACd,YAAa,GACb,QAAS,EACT,SAAU,WAChB,CAAK,CACL,CAAG,EAEHR,EAAiB,iBAAiB,QAASS,CAAkB,EAC7D,SAASA,EAAmBC,EAAK,CAC/BF,EAAS,QAAO,EAChBL,EAAe,UAAY,GAC3BD,EAAY,aAAa,SAAU,EAAI,EACvCF,EAAiB,aAAa,SAAU,EAAI,EAC5CC,EAAW,gBAAgB,QAAQ,EACnCG,EAAO,MAAM,QAAU,QACvB,MAAMO,EAAUD,EAAI,cAAc,MAClCZ,EAAgBa,CAAO,EACpB,KAAKN,GAAQ,CACZL,EAAiB,gBAAgB,QAAQ,EACzCC,EAAW,aAAa,SAAU,EAAI,EACtCG,EAAO,MAAM,QAAU,OACvBD,EAAe,MAAM,QAAU,OAC/BA,EAAe,MAAM,IAAM,OAC3BA,EAAe,MAAM,QAAU,OAC/BA,EAAe,UAAY,yBAAyBE,EAAK,GAAG,aAAaA,EAAK,GAAG,OAAO,GAAG;AAAA,cACnFA,EAAK,GAAG,OAAO,GAAG;AAAA,SACvBA,EAAK,GAAG,OAAO,GAAG,uBAC3B,CAAK,EACA,MAAME,GAAO,CACZC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,sDACT,MAAO,GACP,gBAAiB,MACjB,aAAc,QACd,YAAa,GACb,QAAS,EACT,SAAU,WAClB,CAAO,CACP,CAAK,CACL,CACA,SAASF,EAAaM,EAAK,CACzB,OAAOA,EAAI,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,CAAM,IAAK,mBAAmBD,KAAMC,YAAe,CAC3E"}