{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["export const API_URL = 'https://api.thecatapi.com/v1/';\nexport const API_BREEDS = 'breeds';\nexport const API_FUL_INFO = 'images';\nexport function fetchBreeds() {\n  return fetch(`${API_URL}${API_BREEDS}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Error in breeds search');\n      }\n      const responseJSON = response.json();\n      console.log(responseJSON);\n      return responseJSON;\n    })\n    .catch(err => console.log(err));\n}\n//const MY_API_KEY='live_CYfDoS5dNeACSCwYtMK32XB821HsGAUlrTtg1vSBWMymimcVnHbbjgtqAnOT394U';\nexport function fetchCatByBreed(breedId) {\n    \n    //https://api.thecatapi.com/v1/images/search?breed_ids=ідентифікатор_породи\n        //return (fetch(`//https://api.thecatapi.com/v1/images/search?api_key=${MY_API_KEY}&breed_ids=${breedId}`)\n      return (fetch(`${API_URL}${API_FUL_INFO}/search?breed_ids=${breedId}&api_key=live_2Q9JZjMJI5bZojchvDz6dEbNb9glMqm8aJQNzpxhIaZPkxslhOWPtQNSOk8vrbah`)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Error in breeds search');\n        }\n        return response.json();\n      })\n      .catch(err => console.log(err))\n  );\n}\n","import axios from 'axios';\nimport { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport SlimSelect from 'slim-select';\n\n//axios.defaults.headers.common['x-api-key'] = 'live_CYfDoS5dNeACSCwYtMK32XB821HsGAUlrTtg1vSBWMymimcVnHbbjgtqAnOT394U';\n\nconst breedsListSelect = document.querySelector('.breed-select');\nconst loadStatus = document.querySelector('.loader');\nconst errorStatus = document.querySelector('.error');\nconst descriptionDiv = document.querySelector('.cat-info');\n\n//let breedID;\nerrorStatus.setAttribute('hidden', true);\nloadStatus.setAttribute('hidden', true);\n\nconst arr = fetchBreeds()\n  .then(data => {    \n    breedsListSelect.innerHTML = createMarkup(data);\n  })\n  .catch(err => {\n    errorStatus.removeAttribute('hidden');\n    console.log(err);\n  });\n\nbreedsListSelect.addEventListener('input', selectBreedHandler);\nfunction selectBreedHandler(evt) {\n  descriptionDiv.innerHTML = '';\n  breedsListSelect.setAttribute('hidden', true);\n  loadStatus.removeAttribute('hidden');\n  const breedID = evt.currentTarget.value;\n  console.log(breedID);\n  fetchCatByBreed(breedID).then(data => {\n    if (!data.ok) {\n      throw new Error(\"Can't find the cat\");\n    }\n    breedsListSelect.removeAttribute('hidden');\n    loadStatus.setAttribute('hidden', true);\n    console.log(data[0].url);\n    descriptionDiv.style.display = 'flex';\n    descriptionDiv.style.gap = '20px';\n    descriptionDiv.style.padding = '20px';\n    descriptionDiv.innerHTML = `<img width=\"300\" src=\"${data[0].url}\" alt=\"${data[0].breeds[0].name}\">\n    <div><p>${data[0].breeds[0].name}</p>\n    <p>${data[0].breeds[0].description}</p></div>`;\n  }).catch(err => {\n    console.log(err);\n    errorStatus.removeAttribute('hidden');\n    errorStatus.style.color = 'red';\n  }\n    );\n}\nfunction createMarkup(arr) {\n  return arr.map(({ id, name }) => `<option value = ${id}>${name}</option>`);\n}\n"],"names":["API_URL","API_BREEDS","API_FUL_INFO","fetchBreeds","response","responseJSON","err","fetchCatByBreed","breedId","breedsListSelect","loadStatus","errorStatus","descriptionDiv","data","createMarkup","selectBreedHandler","evt","breedID","arr","id","name"],"mappings":"ssBAAO,MAAMA,EAAU,gCACVC,EAAa,SACbC,EAAe,SACrB,SAASC,GAAc,CAC5B,OAAO,MAAM,GAAGH,IAAUC,GAAY,EACnC,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,MAAMC,EAAeD,EAAS,OAC9B,eAAQ,IAAIC,CAAY,EACjBA,CACb,CAAK,EACA,MAAMC,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAClC,CAEO,SAASC,EAAgBC,EAAS,CAInC,OAAQ,MAAM,GAAGR,IAAUE,sBAAiCM,iFAAuF,EAClJ,KAAKJ,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAOA,EAAS,MACxB,CAAO,EACA,MAAME,GAAO,QAAQ,IAAIA,CAAG,CAAC,CAEpC,CCvBA,MAAMG,EAAmB,SAAS,cAAc,eAAe,EACzDC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAc,SAAS,cAAc,QAAQ,EAC7CC,EAAiB,SAAS,cAAc,WAAW,EAGzDD,EAAY,aAAa,SAAU,EAAI,EACvCD,EAAW,aAAa,SAAU,EAAI,EAE1BP,EAAa,EACtB,KAAKU,GAAQ,CACZJ,EAAiB,UAAYK,EAAaD,CAAI,CAClD,CAAG,EACA,MAAMP,GAAO,CACZK,EAAY,gBAAgB,QAAQ,EACpC,QAAQ,IAAIL,CAAG,CACnB,CAAG,EAEHG,EAAiB,iBAAiB,QAASM,CAAkB,EAC7D,SAASA,EAAmBC,EAAK,CAC/BJ,EAAe,UAAY,GAC3BH,EAAiB,aAAa,SAAU,EAAI,EAC5CC,EAAW,gBAAgB,QAAQ,EACnC,MAAMO,EAAUD,EAAI,cAAc,MAClC,QAAQ,IAAIC,CAAO,EACnBV,EAAgBU,CAAO,EAAE,KAAKJ,GAAQ,CACpC,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAM,oBAAoB,EAEtCJ,EAAiB,gBAAgB,QAAQ,EACzCC,EAAW,aAAa,SAAU,EAAI,EACtC,QAAQ,IAAIG,EAAK,GAAG,GAAG,EACvBD,EAAe,MAAM,QAAU,OAC/BA,EAAe,MAAM,IAAM,OAC3BA,EAAe,MAAM,QAAU,OAC/BA,EAAe,UAAY,yBAAyBC,EAAK,GAAG,aAAaA,EAAK,GAAG,OAAO,GAAG;AAAA,cACjFA,EAAK,GAAG,OAAO,GAAG;AAAA,SACvBA,EAAK,GAAG,OAAO,GAAG,uBAC3B,CAAG,EAAE,MAAMP,GAAO,CACd,QAAQ,IAAIA,CAAG,EACfK,EAAY,gBAAgB,QAAQ,EACpCA,EAAY,MAAM,MAAQ,KAC3B,CACH,CACA,CACA,SAASG,EAAaI,EAAK,CACzB,OAAOA,EAAI,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,CAAM,IAAK,mBAAmBD,KAAMC,YAAe,CAC3E"}