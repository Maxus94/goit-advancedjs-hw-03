{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nexport const API_URL = 'https://api.thecatapi.com/v1/';\nexport const API_BREEDS = 'breeds';\nexport const API_FUL_INFO = 'images';\nexport function fetchBreeds() {\n  return fetch(`${API_URL}${API_BREEDS}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Error in breeds search');\n      }\n      const responseJSON = response.json();\n      return responseJSON;\n    })\n    .catch(err => {\n      //console.log(err);\n      iziToast.show({\n        title: 'Error',\n        message: `${err}`,\n        close: false,\n        backgroundColor: 'red',\n        messageColor: 'white',\n        messageSize: 20,\n        timeout: 0,\n        position: 'topCenter', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n      });\n    });\n}\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `${API_URL}${API_FUL_INFO}/search?breed_ids=${breedId}&api_key=live_2Q9JZjMJI5bZojchvDz6dEbNb9glMqm8aJQNzpxhIaZPkxslhOWPtQNSOk8vrbah`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Error in breeds search');\n      }\n      return response.json();\n    })\n    .catch(err => {\n      //console.log(err);\n      iziToast.show({\n        title: 'Error',\n        message: `${err}`,\n        close: false,\n        backgroundColor: 'red',\n        messageColor: 'white',\n        messageSize: 20,\n        timeout: 0,\n        position: 'topCenter', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n      });\n    });\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\n//import SlimSelect from 'slim-select';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst breedsListSelect = document.querySelector('.breed-select');\nconst loadStatus = document.querySelector('.loader');\nconst errorStatus = document.querySelector('.error');\nconst descriptionDiv = document.querySelector('.cat-info');\n\nerrorStatus.setAttribute('hidden', true);\nloadStatus.setAttribute('hidden', true);\nbreedsListSelect.insertAdjacentHTML(\n  'afterend',\n  '<div class=\"loader-animation\"></div>'\n);\nconst spiner = document.querySelector('.loader-animation');\nspiner.style.display = 'none';\n\nconst arr = fetchBreeds()\n  .then(data => {\n    breedsListSelect.innerHTML = createMarkup(data);\n  })\n  .catch(err => {\n    errorStatus.removeAttribute('hidden');\n    errorStatus.style.color = 'red';\n    console.log(err);\n    iziToast.show({\n      title: 'Error',\n      message: `${err}`,\n      close: false,\n      backgroundColor: 'red',\n      messageColor: 'white',\n      messageSize: 20,\n      timeout: 0,\n      position: 'topCenter', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n    });\n  });\n\nbreedsListSelect.addEventListener('input', selectBreedHandler);\nfunction selectBreedHandler(evt) {\n  iziToast.destroy();\n  descriptionDiv.innerHTML = '';\n  errorStatus.setAttribute('hidden', true);\n  breedsListSelect.setAttribute('hidden', true);\n  loadStatus.removeAttribute('hidden');\n  spiner.style.display = 'block';\n  const breedID = evt.currentTarget.value;\n  fetchCatByBreed(breedID)\n    .then(data => {\n      breedsListSelect.removeAttribute('hidden');\n      loadStatus.setAttribute('hidden', true);\n      spiner.style.display = 'none';\n      descriptionDiv.style.display = 'flex';\n      descriptionDiv.style.gap = '20px';\n      descriptionDiv.style.padding = '20px';\n      descriptionDiv.innerHTML = `<img width=\"300\" src=\"${data[0].url}\" alt=\"${data[0].breeds[0].name}\">\n    <div><p>${data[0].breeds[0].name}</p>\n    <p>${data[0].breeds[0].description}</p></div>`;\n    })\n    .catch(err => {\n      //console.log(err);\n      iziToast.show({\n        title: 'Error',\n        message: `${err}`,\n        close: false,\n        backgroundColor: 'red',\n        messageColor: 'white',\n        messageSize: 20,\n        timeout: 0,\n        position: 'topCenter', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center\n      });\n      errorStatus.removeAttribute('hidden');\n      errorStatus.style.color = 'red';\n    });\n}\nfunction createMarkup(arr) {\n  return arr.map(({ id, name }) => `<option value = ${id}>${name}</option>`);\n}\n"],"names":["API_URL","API_BREEDS","API_FUL_INFO","fetchBreeds","response","err","iziToast","fetchCatByBreed","breedId","breedsListSelect","loadStatus","errorStatus","descriptionDiv","spiner","data","createMarkup","selectBreedHandler","evt","breedID","arr","id","name"],"mappings":"svBAEO,MAAMA,EAAU,gCACVC,EAAa,SACbC,EAAe,SACrB,SAASC,GAAc,CAC5B,OAAO,MAAM,GAAGH,IAAUC,GAAY,EACnC,KAAKG,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAG1C,OADqBA,EAAS,MAEpC,CAAK,EACA,MAAMC,GAAO,CAEZC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,GAAGD,IACZ,MAAO,GACP,gBAAiB,MACjB,aAAc,QACd,YAAa,GACb,QAAS,EACT,SAAU,WAClB,CAAO,CACP,CAAK,CACL,CACO,SAASE,EAAgBC,EAAS,CACvC,OAAO,MACL,GAAGR,IAAUE,sBAAiCM,iFAC/C,EACE,KAAKJ,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAO,CAEZC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,GAAGD,IACZ,MAAO,GACP,gBAAiB,MACjB,aAAc,QACd,YAAa,GACb,QAAS,EACT,SAAU,WAClB,CAAO,CACP,CAAK,CACL,CC9CA,MAAMI,EAAmB,SAAS,cAAc,eAAe,EACzDC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAc,SAAS,cAAc,QAAQ,EAC7CC,EAAiB,SAAS,cAAc,WAAW,EAEzDD,EAAY,aAAa,SAAU,EAAI,EACvCD,EAAW,aAAa,SAAU,EAAI,EACtCD,EAAiB,mBACf,WACA,sCACF,EACA,MAAMI,EAAS,SAAS,cAAc,mBAAmB,EACzDA,EAAO,MAAM,QAAU,OAEXV,EAAa,EACtB,KAAKW,GAAQ,CACZL,EAAiB,UAAYM,EAAaD,CAAI,CAClD,CAAG,EACA,MAAMT,GAAO,CACZM,EAAY,gBAAgB,QAAQ,EACpCA,EAAY,MAAM,MAAQ,MAC1B,QAAQ,IAAIN,CAAG,EACfC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,GAAGD,IACZ,MAAO,GACP,gBAAiB,MACjB,aAAc,QACd,YAAa,GACb,QAAS,EACT,SAAU,WAChB,CAAK,CACL,CAAG,EAEHI,EAAiB,iBAAiB,QAASO,CAAkB,EAC7D,SAASA,EAAmBC,EAAK,CAC/BX,EAAS,QAAO,EAChBM,EAAe,UAAY,GAC3BD,EAAY,aAAa,SAAU,EAAI,EACvCF,EAAiB,aAAa,SAAU,EAAI,EAC5CC,EAAW,gBAAgB,QAAQ,EACnCG,EAAO,MAAM,QAAU,QACvB,MAAMK,EAAUD,EAAI,cAAc,MAClCV,EAAgBW,CAAO,EACpB,KAAKJ,GAAQ,CACZL,EAAiB,gBAAgB,QAAQ,EACzCC,EAAW,aAAa,SAAU,EAAI,EACtCG,EAAO,MAAM,QAAU,OACvBD,EAAe,MAAM,QAAU,OAC/BA,EAAe,MAAM,IAAM,OAC3BA,EAAe,MAAM,QAAU,OAC/BA,EAAe,UAAY,yBAAyBE,EAAK,GAAG,aAAaA,EAAK,GAAG,OAAO,GAAG;AAAA,cACnFA,EAAK,GAAG,OAAO,GAAG;AAAA,SACvBA,EAAK,GAAG,OAAO,GAAG,uBAC3B,CAAK,EACA,MAAMT,GAAO,CAEZC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,GAAGD,IACZ,MAAO,GACP,gBAAiB,MACjB,aAAc,QACd,YAAa,GACb,QAAS,EACT,SAAU,WAClB,CAAO,EACDM,EAAY,gBAAgB,QAAQ,EACpCA,EAAY,MAAM,MAAQ,KAChC,CAAK,CACL,CACA,SAASI,EAAaI,EAAK,CACzB,OAAOA,EAAI,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,CAAM,IAAK,mBAAmBD,KAAMC,YAAe,CAC3E"}